<%= turbo_frame_tag "comment_form" do %>
  <div class="comment-form-container">
    <%= form_with model: [board, Comment.new], data: { turbo_stream: true }, local: false, class: "comment-form", id: "new_comment_form" do |f| %>
      <%= f.text_area :content, placeholder: "コメントを入力...", class: "form-input", data: { controller: "auto-resize" } %>
      <%= f.submit t('buttons.submit_comment'), class: "post-btn" %>
    <% end %>
  </div>
<% end %>

<%= javascript_tag do %>
  document.addEventListener("turbo:submit-end", (event) => {
    if (event.target.id === "new_comment_form" && event.detail.success) {
      event.target.reset(); // 投稿後にフォームをクリア
    }
  });
<% end %>
